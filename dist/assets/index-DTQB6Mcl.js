(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const v of r.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&l(v)}).observe(document,{childList:!0,subtree:!0});function a(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(n){if(n.ep)return;n.ep=!0;const r=a(n);fetch(n.href,r)}})();const i=(e,t=document)=>t.querySelector(e),y=(e,t=document)=>Array.from(t.querySelectorAll(e)),h=[{id:"c1",title:"Modern JavaScript Bootcamp",category:"Web Dev",level:"Beginner",price:39,rating:4.6,students:15230,hours:18,tags:["JS","Frontend"],desc:"Learn JavaScript with projects, ES6+, and tooling.",date:"2025-09-12"},{id:"c2",title:"React + Vite Crash Course",category:"Web Dev",level:"Intermediate",price:49,rating:4.7,students:8422,hours:10,tags:["React","Vite"],desc:"Build fast frontends with React and Vite.",date:"2025-07-08"},{id:"c3",title:"Tailwind CSS Mastery",category:"Design",level:"Beginner",price:29,rating:4.5,students:6120,hours:7,tags:["CSS","UI"],desc:"Design systems and components with Tailwind.",date:"2025-10-01"},{id:"c4",title:"Python for Data Analysis",category:"Data",level:"Beginner",price:59,rating:4.8,students:22041,hours:24,tags:["Pandas","Numpy"],desc:"Analyze datasets and build insights in Python.",date:"2025-06-11"},{id:"c5",title:"Machine Learning Essentials",category:"AI/ML",level:"Intermediate",price:79,rating:4.6,students:13220,hours:20,tags:["ML","Scikit"],desc:"Supervised learning, evaluation, and pipelines.",date:"2025-08-20"},{id:"c6",title:"Deep Learning with PyTorch",category:"AI/ML",level:"Advanced",price:119,rating:4.7,students:9210,hours:28,tags:["DL","PyTorch"],desc:"Neural nets, CNNs, RNNs with PyTorch.",date:"2025-09-25"},{id:"c7",title:"UX Design Foundations",category:"Design",level:"Beginner",price:25,rating:4.3,students:4100,hours:6,tags:["UX","Research"],desc:"Design thinking, user research, and prototyping.",date:"2025-05-03"},{id:"c8",title:"Data Visualization with D3",category:"Data",level:"Advanced",price:99,rating:4.4,students:3001,hours:16,tags:["D3","Charts"],desc:"Interactive visualizations on the web.",date:"2025-07-21"},{id:"c9",title:"Fullstack Basics (Node+DB)",category:"Web Dev",level:"Intermediate",price:69,rating:4.5,students:7029,hours:14,tags:["Node","DB"],desc:"REST APIs, auth, and persistence.",date:"2025-04-01"}],s={query:"",category:"all",level:"All",priceMax:200,ratingMin:0,sort:"relevance",compare:new Set,wishlist:new Set(JSON.parse(localStorage.getItem("wishlist")||"[]")),saleApplied:!1},o={price:e=>`$${e.toFixed(0)}`,rating:e=>`${e.toFixed(1)}â˜…`,num:e=>e.toLocaleString()};function k(){const e=localStorage.getItem("theme");e&&document.documentElement.classList.toggle("dark",e==="dark")}function E(){i("#mobile-menu-btn").addEventListener("click",()=>{i("#mobile-menu").classList.toggle("hidden")}),i("#theme-toggle").addEventListener("click",()=>{const e=document.documentElement.classList.toggle("dark");localStorage.setItem("theme",e?"dark":"light")})}function C(){let e=h.slice();if(s.query){const t=s.query.toLowerCase();e=e.filter(a=>a.title.toLowerCase().includes(t)||a.tags.join(" ").toLowerCase().includes(t))}switch(s.category!=="all"&&(e=e.filter(t=>t.category===s.category)),s.level!=="All"&&(e=e.filter(t=>t.level===s.level)),e=e.filter(t=>t.price<=s.priceMax&&t.rating>=s.ratingMin),s.sort){case"price-asc":e.sort((t,a)=>t.price-a.price);break;case"price-desc":e.sort((t,a)=>a.price-t.price);break;case"rating-desc":e.sort((t,a)=>a.rating-t.rating);break;case"newest":e.sort((t,a)=>new Date(a.date)-new Date(t.date));break;default:e.sort((t,a)=>a.rating*a.students-t.rating*t.students)}return e}function M(e){const t=s.wishlist.has(e.id),a=s.compare.has(e.id),l=$(e.price),n=s.saleApplied&&l!==e.price?`<span class="font-semibold text-indigo-600 mr-2">${o.price(l)}</span><span class="text-gray-500 line-through">${o.price(e.price)}</span>`:`<span class="font-semibold">${o.price(l)}</span>`;return`
  <div class="card p-4 flex flex-col gap-3">
    <div class="flex items-start justify-between gap-2">
      <div>
        <h3 class="font-semibold leading-tight">${e.title}</h3>
        <div class="text-xs text-gray-600 dark:text-gray-300">${e.category} â€¢ ${e.level}</div>
      </div>
      <button class="icon-btn" data-qv="${e.id}">ğŸ‘ï¸</button>
    </div>
    <p class="text-sm text-gray-700 dark:text-gray-300">${e.desc}</p>
    <div class="flex items-center justify-between text-sm">
      ${n}
      <span>${o.rating(e.rating)} â€¢ ${o.num(e.students)} students</span>
    </div>
    <div class="flex items-center gap-2">
      <button class="btn btn-primary flex-1" data-buy="${e.id}">Enroll</button>
      <button class="icon-btn ${t?"bg-indigo-50 dark:bg-indigo-900/30":""}" data-wish="${e.id}" title="Wishlist">${t?"ğŸ’œ":"ğŸ¤"}</button>
      <button class="icon-btn ${a?"bg-indigo-50 dark:bg-indigo-900/30":""}" data-compare="${e.id}" title="Compare">âš–ï¸</button>
    </div>
  </div>`}function d(){const e=C();i("#results-count").textContent=`${e.length} results`,i("#courses-grid").innerHTML=e.map(M).join(""),i("#compare-tray").classList.toggle("hidden",s.compare.size===0),i("#clear-compare").classList.toggle("hidden",s.compare.size===0),S()}function S(){const e=h.filter(t=>s.wishlist.has(t.id));i("#wishlist").innerHTML=e.length?e.map(t=>`<div class="flex items-center justify-between gap-2"><span>${t.title}</span><button class="icon-btn" data-wish-remove="${t.id}">âœ•</button></div>`).join(""):'<div class="text-gray-500">No items</div>'}function A(){i("#search").addEventListener("input",e=>{s.query=e.target.value,d()}),i("#sort").addEventListener("change",e=>{s.sort=e.target.value,d()}),i("#filter-category").addEventListener("change",e=>{s.category=e.target.value,d()}),y("#price-range").forEach(e=>e.addEventListener("input",t=>{s.priceMax=+t.target.value,i("#price-label").textContent=`Up to $${s.priceMax}`})),y("#rating-range").forEach(e=>e.addEventListener("input",t=>{s.ratingMin=+t.target.value,i("#rating-label").textContent=`${s.ratingMin}â˜… and up`})),i("#apply-filters").addEventListener("click",()=>d()),i("#reset-filters").addEventListener("click",()=>{s.query="",i("#search").value="",s.category="all",i("#filter-category").value="all",s.level="All",y(".chip").forEach(e=>e.classList.remove("chip-active")),i('[data-level="All"]').classList.add("chip-active"),s.priceMax=200,i("#price-range").value=200,i("#price-label").textContent="Up to $200",s.ratingMin=0,i("#rating-range").value=0,i("#rating-label").textContent="0â˜… and up",d()}),y(".chip").forEach(e=>e.addEventListener("click",()=>{y(".chip").forEach(t=>t.classList.remove("chip-active")),e.classList.add("chip-active"),s.level=e.dataset.level,d()}))}function D(){i("#courses-grid").addEventListener("click",e=>{const t=e.target.closest("button");if(!t)return;const a=t.dataset.buy||t.dataset.wish||t.dataset.compare||t.dataset.qv,l=h.find(n=>n.id===a);t.dataset.buy&&alert(`Enrolled in ${l.title}!`),t.dataset.wish&&(s.wishlist.has(a)?s.wishlist.delete(a):s.wishlist.add(a),localStorage.setItem("wishlist",JSON.stringify([...s.wishlist])),d()),t.dataset.compare&&(s.compare.has(a)?s.compare.delete(a):s.compare.add(a),w(),d()),t.dataset.qv&&T(l)}),i("#clear-compare").addEventListener("click",()=>{s.compare.clear(),w(),d()})}function w(){const e=h.filter(t=>s.compare.has(t.id));i("#compare-items").innerHTML=e.map(t=>`<span class="px-2 py-1 rounded bg-gray-100 dark:bg-gray-700 text-sm">${t.title}</span>`).join("")}function I(){i("#open-compare").addEventListener("click",()=>q()),i("#close-compare").addEventListener("click",()=>i("#compare-modal").classList.add("hidden"))}function q(){const e=h.filter(t=>s.compare.has(t.id));i("#compare-table").innerHTML=e.map(t=>`
    <div class="card p-4 space-y-2">
      <div class="font-semibold">${t.title}</div>
      <div class="text-sm">${t.category} â€¢ ${t.level}</div>
      <div class="text-sm">${o.price(t.price)} â€¢ ${o.rating(t.rating)}</div>
      <div class="text-sm">${o.num(t.students)} students</div>
      <div class="text-sm">${t.hours} hours</div>
    </div>`).join(""),i("#compare-modal").classList.remove("hidden")}function T(e){i("#qv-title").textContent=e.title,i("#qv-desc").textContent=e.desc,i("#qv-meta").innerHTML=`${e.category} â€¢ ${e.level} â€¢ ${o.price(e.price)} â€¢ ${o.rating(e.rating)} â€¢ ${e.hours}h`,i("#quickview-modal").classList.remove("hidden")}function N(){i("#qv-close").addEventListener("click",()=>i("#quickview-modal").classList.add("hidden"))}function P(){localStorage.getItem("sale_dismissed")==="1"||(i("#sale-popup").classList.remove("hidden"),i("#sale-popup").classList.add("flex")),i("#close-sale").addEventListener("click",()=>{i("#dont-show").checked&&localStorage.setItem("sale_dismissed","1"),i("#sale-popup").classList.add("hidden")}),i("#apply-sale").addEventListener("click",()=>{s.saleApplied=!0,alert("Code LIGHT60 applied! Prices updated."),i("#sale-popup").classList.add("hidden"),d()})}function $(e){return s.saleApplied?Math.max(5,Math.round(e*.4)):e}function j(){const e=i("#chat-toggle"),t=i("#chat-window"),a=i("#chat-log"),l=i("#chat-form"),n=i("#chat-input");i("#chat-close").addEventListener("click",()=>t.classList.add("hidden")),e.addEventListener("click",()=>{t.classList.toggle("hidden"),t.classList.contains("hidden")||n.focus()});function r(f,p="bot"){const m=document.createElement("div");m.className=`px-3 py-2 rounded-lg text-sm ${p==="bot"?"bg-gray-100 dark:bg-gray-700 self-start":"bg-indigo-600 text-white self-end"}`,m.textContent=f,a.appendChild(m),a.scrollTop=a.scrollHeight}r("Hi! Ask me to recommend a course by category, level, or budget."),l.addEventListener("submit",f=>{f.preventDefault();const p=n.value.trim();p&&(r(p,"user"),n.value="",setTimeout(()=>{r(v(p))},300))});function v(f){const p=f.toLowerCase(),m=/under\s*(\d+)/.exec(p),b=["web dev","data","design","ai/ml","ai","ml"].find(c=>p.includes(c)),x=["beginner","intermediate","advanced"].find(c=>p.includes(c));let u=h.slice();if(b){const g={"ai/ml":"AI/ML",ai:"AI/ML",ml:"AI/ML"}[b]||b.replace(/\b\w/g,L=>L.toUpperCase());u=u.filter(L=>L.category===g)}if(x){const c=x.replace(/\b\w/g,g=>g.toUpperCase());u=u.filter(g=>g.level===c)}if(m){const c=+m[1];u=u.filter(g=>$(g.price)<=c)}return u.length?(u.sort((c,g)=>g.rating-c.rating),`Top picks: ${u.slice(0,3).map(c=>`${c.title} (${o.price($(c.price))}, ${o.rating(c.rating)})`).join("; ")}`):"I could not find a match. Try different category or budget."}}function B(){k(),E(),A(),D(),I(),N(),d(),w(),P(),j()}B();
